# Инструкция по работе с Git

Во-первых для работы с Git более удобен bash в качестве терминала(командной строки) нежели powershell от Windows, который стоит по умолчанию в Visual Studio Code если вы работаете на Windows. Лучше поставить по умолчанию bash, чтобы при запуске Visual Studio Code включался сразу он, а не powershell.

Во-вторых перед первым использованием Git - ему нужно представиться прокомандовав в терминале: "git config --global user.name 'ваше_имя'", а потом: "git config --global user.email 'адрес_вашей_почты@email.com'".

## Чтобы создать(инициализировать) репозиторий нужно в терминале находиться в папке, в которой хочешь создать этот репозиторий и прокомандовать: "git init".

## Далее всегда простые 4 шага:
* Создал/изменил/удалил(можно один из вариантов, несколько вариантов сразу или сразу все варианты) файл или файлы.
* Сохранил(Ctrl+S). Примечание - лучше поставить автосохранение.
* Добавил в индекс(прокомандовал в терминале: "git add .").
* Зафиксировал всё в коммит прокомандовав в терминале: "git commit -m 'любое_сообщение_коммита'".

## Некоторые команды на заметку:
+ **git diff** - Показывает разницу между текущим и предыдущим состоянием файла.
+ **git version** - Выведет версию Git. Полезна при установке Git, ведь если версия Git не вышла - значит Git не установился.
+ **git log** - Выведет список сделанных коммитов. В нём сверху находится самый недавний коммит, а снизу более давние. Стрелочками вверх/вниз на клавиатуре можно перемещаться по этому списку если он большой и не влазит в высоту терминала. Для вывода этого списка в более коротком виде можно ввести команду: "**git log --oneline**".

## В процессе работы:

#### Исправление ляпов:

Для начала исправьте допущенную опечатку или мелкую ошибку. Затем сохраните изменения в файле/файлах, добавьте изменения в индекс(введите команду "**git add .**"), далее произведите коммит, но просто немного по-другому прописанный, а именно с параметром amend: "**git commit --amend**". В открывшемся окне нажмите "Insert", "Esc", напечатайте ":wq"(прогресс печатанья будет видно внизу окна), нажмите "Enter". Готово.

#### Переключения:

Вы можете переключится на любое состояние репозитория которое было в момент фиксации любого коммита из доступной истории коммитов. Эту историю выводят команды "git log" и "git log --oneline". Чтобы переключиться - скопируем хэш интересующего коммита(это номер состоящий из символов и цифр - 40штук/каждый в *log*, 7штук/каждый в *log --oneline*, достаточно скопировать минимум первые 4штуки). Далее вводим команду: "**git checkout скопированный_хэш**". Вместо скопированного хэша можно указать название ветки, и вы переключитесь на неё, например: "**git checkout название_ветки**".

#### Работа с ветками:

Для удобной и безопасной разработки нового функционала, вставки абзаца или правок, исправления багов, или других действий - можно сделать полную копию репозитория в параллельный черновик и выполнить там всю эту работу. Этим черновиком будет так называемая ветка. Чтобы её создать - надо ввести команду: "**git branch любое_название_ветки**". Но не спешите, введите для начала команду: "**git branch**", так вы увидите во-первых список всех веток(можете пользоваться этой безопасной командой всегда, она ничего не испортит и не сломает), а во-вторых ту ветку, на которой нахидитесь(напротив неё звёздочка(*)). Так вот, в новую ветку всё единожды скопируется из ветки, в которой вы находитесь, поэтому если, например, у вас несколько веток, то сначала переключитесь на ту, копию которой вам нужно для черновиковых работ(сделать это можно командой, описанной выше - в блоке переключений). Итак, вы создали новую ветку, но не торопитесь, чтобы в ней работать - на неё ещё нужно переключиться(всё той же командой переключения). [П.С. Чаще вводите команду "**git branch**" и вы поймёте этот процесс]. Далее, проделав всю работу и приведя её в порядок - внесём её в чистовик. Для этого переключимся на чистовиковую ветку(ну или ту, В КОТОРУЮ нужно внести) и введём команду: "**git merge название_вносимой_ветки**". После этого внесения(то есть объединения) внесённая ветка никуда не девается и если она(или любая другая ветка) уже не нужна - её можно удалить вручную введя команду: "**git branch -d название_удаляемой_ветки**".

#### Удалённые репозитории и работа с ними:

Удалённые имеется в виду от слова ДАЛЕКО. То есть эти репозитории находятся НЕ на нашем компьютере, а на сервере например. Однако мы можем производить синхронизацию репозитория в нашем компьютере с репозиторием удалённым. Это удобно для работы в команде с другими людьми или чтобы работать самому над одним проектом, но с разных компьютеров(находящихся в разных местах например). На сервере *github.com* много таких удалённых репозиториев, там же легко можно создать или добавить свой. Прямо на сервере можно посмотреть интересующий репозиторий, найти и нажать кнопку "*<> Code*", в открывшемся окошке из раздела "*HTTPS*" скопировать ссылку. Далее уже в терминале своего компьютера ввести команду: "**git clone скопированная_ссылка**", и у вас на компьютере появится копия этого репозитория, которую вы можете просматривать и работать с ней, как со своим собственным репозиторием, но пока только на своём компьютере, и оригинальный удалённый репозиторий при этом не изменится. Что-ж, для начала рассмотрим ситуацию, что удалённый репозиторий ваш изначально, например вы создали аккаунт на github.com и там же создали репозиторий. Вы склонировали его по инструкции выше на свой компьютер. Далее провели с ним работу, произвели коммит. Теперь можете всю проделанную работу загрузить обратно в удалённый репозиторий введя команду "**git push**"(при вводе её в первый раз git попросит пароль от вашего аккаунта на github.com). А допустим вы, или другой участник команды, клонировали этот репозиторий на другом компьютере до того, как вы запушили проделанную работу(ввели команду "git push"), можно теперь на другом компьютере ввести команду "**git pull**" и вся эта проделанная работа со всеми коммитами появится(добавится) на этом другом компьютере, таким образом осуществляется подтягивание(от английского слова "pull" - тянуть).

Обратите внимание:

* Если запушивание не проходит(это может происходить если вы пользовались командой "git commit --amend"), то введите команду "**git push --force**", она принудительно перезапишет всё в удалённом репозитории на состояние репозитория в вашем компьютере, хотя лучше, конечно, старайтесь не пользоваться или пользоваться реже командой "git commit --amend";

* Удаление веток нужно делать отдельно тех, которые у вас на компьютере(то есть локальных), и отдельно тех, которые в удалённом репозитории(то есть удалённых). Для удаления ветки в удалённом репозитории введите команду: "**git push --delete origin название_удаляемой_ветки**", где "origin" - источник удалённого репозитория(может меняться и называться по-разному, но в основном имеет название "origin", к тому же вы можете увидеть его название при вводе команды "git log" или "git log --oneline").

Продолжим и разберём ещё одну возможность совместной работы которая есть у GitHub - FORK и PULL REQUEST. Мы возьмём чужой репозиторий, поработаем с ним и предложим свой итог автору.

Как это можно представить - fork переводится с английского как "вилка". Вилка наша и для нас. Мы своей вилкой возьмём интересующий репозиторий себе на блюдечко, чтоб что-то с ним поделать, хотя с оригинальным продуктом(репозиторием) при этом ничего не случится. Pull можно перевести как "тянуть", request как "запрос". Стягивание проделанной и предложенной работы происходит у автора оригинального репозитория, а запрос на это - наш. Всё описанное ДЕЛАЕТСЯ ТАК:

* На странице интересующего репозитория на github.com нажимаем кнопку "Fork". *После этого на вашем GitHub-аккаунте появляется точная копия этого интересующего репозитория с пометкой откуда она взята. На самом деле происходит ответвление, похожее на вилку, отсюда и название. Как только зубчик вилки с вашими коммитами вольётся в оригинал - он перестанет иметь конец и уже не будет похоже на вилку.*
* **В этой копии** вы делаете работу как со своим собственным репозиторием как обычно, но начинаете с того, что **создаёте для своей работы новую ветку и всю работу проделываете именно в ней**, она и предложится для вливания оригиналу.
* После запушивания(а здесь скорее всего это удастся вводом команды: "git push --set-upstream origin название_ветки", где название ветки - той, которую вы создали и в которой проделали всю работу) проделанной работы нажимаете на сайте на странице копии кнопку "Compare & pull request", затем на открывшейся странице кнопку "Create pull request". После этого ваша проделанная работа предложится оригиналу на слияние.